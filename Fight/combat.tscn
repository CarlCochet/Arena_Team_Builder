[gd_scene load_steps=33 format=3 uid="uid://egsxhipgew1"]

[ext_resource type="Script" uid="uid://c27cx13chftm1" path="res://Fight/Scripts/combat.gd" id="1_2kr3w"]
[ext_resource type="Script" uid="uid://cp1qi5k2msmmo" path="res://Fight/Scripts/sorts_bonus_selection.gd" id="3_e0j6u"]
[ext_resource type="Texture2D" uid="uid://c7kierg32v4ip" path="res://UI/Logos/Spells/arme.png" id="4_11pnh"]
[ext_resource type="PackedScene" uid="uid://dm7uaxf12cq58" path="res://Fight/cartes_combat.tscn" id="4_u8rsj"]
[ext_resource type="Script" uid="uid://c8cv662nc8qd6" path="res://Fight/Scripts/arme_selection.gd" id="5_7xdon"]
[ext_resource type="PackedScene" uid="uid://fchxarxrckwc" path="res://Fight/affichage_stats_small.tscn" id="5_jgg7a"]
[ext_resource type="PackedScene" uid="uid://cyuev8xs7ffv8" path="res://Fight/sorts.tscn" id="7_0vhv3"]
[ext_resource type="PackedScene" uid="uid://dkum5bskrgt8k" path="res://Fight/affichage_stats.tscn" id="8_mm5mb"]
[ext_resource type="PackedScene" uid="uid://cr4dhfep7jkje" path="res://Fight/timeline.tscn" id="8_rq6ft"]
[ext_resource type="Texture2D" uid="uid://cbc33y58ir5b3" path="res://Fight/Images/fleche_UI_0_base.png" id="10_mc0eu"]
[ext_resource type="Texture2D" uid="uid://drpfkof5g2pxv" path="res://Fight/Images/fleche_UI_0_selected.png" id="11_4niei"]
[ext_resource type="Texture2D" uid="uid://dl7ysbkuefn4i" path="res://Fight/Images/fleche_UI_1_base.png" id="12_toemx"]
[ext_resource type="Texture2D" uid="uid://bldfuouiu3ksc" path="res://Fight/Images/fleche_UI_1_selected.png" id="13_ffdov"]
[ext_resource type="Texture2D" uid="uid://cwawriukghosq" path="res://Fight/Images/fleche_UI_2_base.png" id="14_7ic16"]
[ext_resource type="Texture2D" uid="uid://cdnpto4tcmy1b" path="res://Fight/Images/fleche_UI_2_selected.png" id="15_rvv21"]
[ext_resource type="Texture2D" uid="uid://cngofkq14ygeh" path="res://Fight/Images/fleche_UI_3_base.png" id="16_gcqp1"]
[ext_resource type="Texture2D" uid="uid://bknc5skjp7s4v" path="res://UI/Buttons/retour_base.png" id="17_aoxdn"]
[ext_resource type="Texture2D" uid="uid://b8jfmij81ohx6" path="res://Fight/Images/fleche_UI_3_selected.png" id="17_j3o6q"]
[ext_resource type="Texture2D" uid="uid://d1xu674o3qbrs" path="res://UI/Buttons/passe_tour_base.png" id="18_ctpdw"]
[ext_resource type="Texture2D" uid="uid://dd20mihsbd7tw" path="res://UI/Buttons/retour_clicked.png" id="18_qpjp6"]
[ext_resource type="Texture2D" uid="uid://dsmninkk3w66q" path="res://UI/Buttons/passe_tour_clicked.png" id="19_d7cu6"]
[ext_resource type="Texture2D" uid="uid://bsx000i85450y" path="res://UI/Buttons/retour_hovered.png" id="19_igho5"]
[ext_resource type="Texture2D" uid="uid://6qux5yc23gvx" path="res://UI/Buttons/passe_tour_hovered.png" id="20_aeni8"]
[ext_resource type="Texture2D" uid="uid://c13funwn7bgli" path="res://Fight/Images/fleche_timeline.png" id="22_niame"]
[ext_resource type="PackedScene" uid="uid://d3c3cbr7us28b" path="res://Fight/affichage_combattant.tscn" id="23_ybnar"]
[ext_resource type="Texture2D" uid="uid://ckjad3evdt6ka" path="res://UI/Buttons/quitter_base.png" id="24_vm5up"]
[ext_resource type="Texture2D" uid="uid://drayiume7pthv" path="res://UI/Buttons/quitter_clicked.png" id="25_vwne5"]
[ext_resource type="Texture2D" uid="uid://cv34br03srve7" path="res://UI/Buttons/quitter_hovered.png" id="26_f4qhe"]
[ext_resource type="PackedScene" uid="uid://d4g0k403igov1" path="res://Fight/chat_log.tscn" id="27_6acv5"]

[sub_resource type="LabelSettings" id="LabelSettings_bi0gt"]
font_size = 72
outline_size = 10
outline_color = Color(0, 0, 0, 1)

[sub_resource type="LabelSettings" id="LabelSettings_k41so"]
font_size = 24

[sub_resource type="LabelSettings" id="LabelSettings_gqcff"]
font_size = 32
outline_size = 7
outline_color = Color(0, 0, 0, 1)

[node name="Combat" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_2kr3w")

[node name="Sorts" parent="." instance=ExtResource("7_0vhv3")]
z_index = 4
offset_left = 60.0
offset_top = 845.0
offset_right = 308.0
offset_bottom = 885.0
scale = Vector2(1, 1)
metadata/_edit_use_anchors_ = true

[node name="SortsBonus" parent="." instance=ExtResource("7_0vhv3")]
z_index = 4
offset_left = 60.0
offset_top = 800.0
offset_right = 308.0
offset_bottom = 840.0
scale = Vector2(1, 1)
script = ExtResource("3_e0j6u")
metadata/_edit_use_anchors_ = true

[node name="Arme" type="TextureRect" parent="."]
z_index = 4
offset_left = 10.0
offset_top = 845.0
offset_right = 50.0
offset_bottom = 885.0
texture = ExtResource("4_11pnh")
script = ExtResource("5_7xdon")
metadata/_edit_use_anchors_ = true

[node name="carte" type="Sprite2D" parent="Arme"]

[node name="CartesCombat" parent="." instance=ExtResource("4_u8rsj")]
z_index = 4
metadata/_edit_use_anchors_ = true

[node name="FlecheCarteCombat" type="Sprite2D" parent="."]
z_index = 2
position = Vector2(1390, 6)
scale = Vector2(0.28125, 0.3)
texture = ExtResource("22_niame")

[node name="Timeline" parent="." instance=ExtResource("8_rq6ft")]
z_index = 4
offset_left = 20.0
offset_top = 10.0
offset_right = 60.0
offset_bottom = 50.0
metadata/_edit_use_anchors_ = true

[node name="AffichageStatsHover" parent="." instance=ExtResource("8_mm5mb")]
z_index = 4
offset_left = 1193.0
offset_top = 802.0
offset_right = 1559.0
offset_bottom = 900.0
metadata/_edit_use_anchors_ = true

[node name="AffichageStatsSelect" parent="." instance=ExtResource("5_jgg7a")]
z_index = 4
offset_left = 52.0
offset_top = 731.0
offset_right = 182.0
offset_bottom = 782.0
metadata/_edit_use_anchors_ = true

[node name="OrientationControls" type="Control" parent="."]
z_index = 4
layout_mode = 3
anchors_preset = 0
offset_left = 59.0
offset_top = 635.0
offset_right = 129.0
offset_bottom = 681.0
metadata/_edit_use_anchors_ = true

[node name="Fleche0" type="TextureButton" parent="OrientationControls"]
layout_mode = 0
offset_left = 33.0
offset_right = 142.0
offset_bottom = 70.0
scale = Vector2(0.3, 0.3)
texture_normal = ExtResource("10_mc0eu")
texture_pressed = ExtResource("11_4niei")
metadata/_edit_use_anchors_ = true

[node name="Fleche1" type="TextureButton" parent="OrientationControls"]
layout_mode = 0
offset_left = 33.0
offset_top = 21.0
offset_right = 142.0
offset_bottom = 91.0
scale = Vector2(0.3, 0.3)
texture_normal = ExtResource("12_toemx")
texture_pressed = ExtResource("13_ffdov")
metadata/_edit_use_anchors_ = true

[node name="Fleche2" type="TextureButton" parent="OrientationControls"]
layout_mode = 0
offset_top = 21.0
offset_right = 109.0
offset_bottom = 91.0
scale = Vector2(0.3, 0.3)
texture_normal = ExtResource("14_7ic16")
texture_pressed = ExtResource("15_rvv21")
metadata/_edit_use_anchors_ = true

[node name="Fleche3" type="TextureButton" parent="OrientationControls"]
layout_mode = 0
offset_right = 109.0
offset_bottom = 70.0
scale = Vector2(0.3, 0.3)
texture_normal = ExtResource("16_gcqp1")
texture_pressed = ExtResource("17_j3o6q")
metadata/_edit_use_anchors_ = true

[node name="PasseTour" type="TextureButton" parent="."]
z_index = 4
offset_left = 51.0
offset_top = 690.0
offset_right = 181.0
offset_bottom = 730.0
texture_normal = ExtResource("18_ctpdw")
texture_pressed = ExtResource("19_d7cu6")
texture_hover = ExtResource("20_aeni8")
metadata/_edit_use_anchors_ = true

[node name="AffichageFin" type="Control" parent="."]
visible = false
z_index = 4
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="TexteFin" type="Label" parent="AffichageFin"]
layout_mode = 0
offset_left = 640.0
offset_top = 228.0
offset_right = 959.0
offset_bottom = 432.0
text = "VICTOIRE
BLEU"
label_settings = SubResource("LabelSettings_bi0gt")
horizontal_alignment = 1
vertical_alignment = 1

[node name="BoutonRetour" type="TextureButton" parent="AffichageFin"]
layout_mode = 0
offset_left = 735.0
offset_top = 501.0
offset_right = 865.0
offset_bottom = 541.0
texture_normal = ExtResource("17_aoxdn")
texture_pressed = ExtResource("18_qpjp6")
texture_hover = ExtResource("19_igho5")

[node name="AffichageCombattant" parent="." instance=ExtResource("23_ybnar")]
visible = false

[node name="Timer" type="Timer" parent="."]

[node name="TimerLabel" type="Label" parent="."]
z_index = 4
offset_left = 10.0
offset_top = 688.0
offset_right = 50.0
offset_bottom = 725.0
text = "25"
label_settings = SubResource("LabelSettings_k41so")
horizontal_alignment = 1
vertical_alignment = 1
metadata/_edit_use_anchors_ = true

[node name="AttenteAdversaire" type="Label" parent="."]
visible = false
z_index = 4
offset_left = 588.0
offset_top = 427.0
offset_right = 1023.0
offset_bottom = 475.0
text = "En attente de l'adversaire..."
label_settings = SubResource("LabelSettings_gqcff")
horizontal_alignment = 1
vertical_alignment = 1

[node name="MenuRetour" type="Popup" parent="."]
position = Vector2i(650, 350)
size = Vector2i(300, 200)
borderless = false

[node name="Control" type="Control" parent="MenuRetour"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Background" type="ColorRect" parent="MenuRetour/Control"]
layout_mode = 0
offset_left = -80.0
offset_top = -73.0
offset_right = 1683.0
offset_bottom = 965.0
scale = Vector2(1, 20)
color = Color(0.262745, 0.278431, 0.282353, 1)

[node name="Quitter" type="TextureButton" parent="MenuRetour/Control"]
layout_mode = 0
offset_left = 20.0
offset_top = 70.0
offset_right = 278.0
offset_bottom = 128.0
texture_normal = ExtResource("24_vm5up")
texture_pressed = ExtResource("25_vwne5")
texture_hover = ExtResource("26_f4qhe")

[node name="ChatLog" parent="." instance=ExtResource("27_6acv5")]
z_index = 4
metadata/_edit_use_anchors_ = true

[connection signal="mouse_entered" from="Arme" to="." method="_on_arme_mouse_entered"]
[connection signal="mouse_exited" from="Arme" to="." method="_on_arme_mouse_exited"]
[connection signal="pressed" from="OrientationControls/Fleche0" to="." method="_on_fleche_0_pressed"]
[connection signal="pressed" from="OrientationControls/Fleche1" to="." method="_on_fleche_1_pressed"]
[connection signal="pressed" from="OrientationControls/Fleche2" to="." method="_on_fleche_2_pressed"]
[connection signal="pressed" from="OrientationControls/Fleche3" to="." method="_on_fleche_3_pressed"]
[connection signal="pressed" from="PasseTour" to="." method="_on_passe_tour_pressed"]
[connection signal="pressed" from="AffichageFin/BoutonRetour" to="." method="_on_bouton_retour_pressed"]
[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
[connection signal="pressed" from="MenuRetour/Control/Quitter" to="." method="_on_quitter_pressed"]
